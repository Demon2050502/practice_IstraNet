# practice_IstraNet

## Helpdesk-система для оператора связи

Учебный проект в рамках производственной практики.  
Проект выполняется в формате прототипа и направлен на отработку навыков
проектирования, архитектурного мышления и понимания полного цикла разработки
веб-приложения.

В проекте используются следующие технологии:

- **HTML** — структура и разметка интерфейса
- **CSS** — стилизация и адаптивный дизайн
- **JavaScript** — интерактивность и логика на клиенте
- **Go (Golang)** — серверная часть
- **SQL** — работа с базой данных

## 1. Назначение проекта

Данный проект представляет собой **систему регистрации и обработки обращений (Helpdesk)**,
ориентированную на задачи оператора связи.

Система предназначена для:

- приёма обращений от пользователей (абонентов или сотрудников),
- обработки обращений операторами,
- отслеживания статусов и истории изменений,
- взаимодействия участников процесса в рамках одного обращения.

Основной упор сделан на:

- корректную архитектуру,
- осознанный выбор технологий,
- логичную структуру проекта,
- понимание принципов backend / frontend взаимодействия.

## 2. Общая архитектура системы

Проект реализуется по классической клиент-серверной архитектуре.

```
┌────────────────┐
│    Browser     │
│  (Web Client)  │
└──────┬─────────┘
       │ HTTP / JSON
       ▼
┌────────────────────┐
│      Frontend      │
└──────┬─────────────┘
       │ REST API
       ▼  (JSON)
┌────────────────────┐
│       Backend      │
└──────┬─────────────┘
       │ SQL
       ▼
┌────────────────────┐
│     PostgreSQL     │
└────────────────────┘
```

### Компоненты системы

#### Frontend

- Веб-интерфейс для пользователей системы
- Реализуется с использованием HTML, CSS и JavaScript
- Отвечает за:
  - отображение данных
  - формы создания и редактирования обращений
  - взаимодействие с backend через REST API

#### Backend

- Серверное приложение на Go
- Реализует бизнес-логику системы
- Отвечает за:
  - обработку HTTP-запросов
  - авторизацию и роли пользователей
  - работу с базой данных
  - валидацию входных данных

#### База данных

- Реляционная БД PostgreSQL
- Хранит:
  - пользователей и роли
  - обращения
  - статусы
  - историю изменений

## 3. Структура проекта
```
practice_IstraNet/
├── backend/
│ ├── cmd/ # Точка входа приложения
│ │ └── main.go
│ │
│ ├── config/ # Конфигурация приложения
│ ├── migrations/ # SQL-миграции БД
│ │
│ ├── pkg/
│ │ ├── db_model / # Модели данных для БД
│ │ │
│ │ ├── dto/ # DTO-структуры для запросов/ответов API
│ │ │
│ │ ├── models/ # Модели данных (сущности проекта)
│ │ │ └── users.go
│ │ │
│ │ ├── handler/ # HTTP-слой (роуты + обработчики запросов)
│ │ │ └── router.go # Роутер: связывает эндпоинты с handler-методами
│ │ │
│ │ ├── repository/ # Слой доступа к данным (SQL, работа с БД)
│ │ │ └── repository_interface.go # Интерфейсы репозиториев (контракты для service)
│ │ │
│ │ └── service/ # Бизнес-логика (правила, роли, статусы, сценарии)
│ │   └── service_interface.go # Интерфейсы сервисов (контракты для handler)
│ │ 
│ ├── postgres/ # Подключение к БД
│ ├── server/ # Инициализация и запуск сервера
│ ├── Makefile
│ └── go.mod / go.sum
│
├── frontend/
│ ├── index.html # Главная страница
│ ├── js/ # Клиентская логика
│ │ └── main_js # логика или анимации которая использоваться везде(шапка, уведовление и т.д.)
│ │
│ ├── style/ # Стили
│ │ └── main_style # главные стили которые использоваться везде(переменные, шапка, подвал)
│ │
│ └── image/ # Изображения
│
└── README.md
```

## 5. Пример API

#### Пример с входом пользователя

```POST /api/auth/sign-in```

#### Запрос
```
{
  "email": "user@example.com",
  "password": "password"
}
```

#### Ответ
```
{
  "token": "jwt-token",
  "user": {
    "id": 1,
    "role": "operator"
  }
}
```

#### Ответ(ошибка)
```
{
  "error": "type error",
  "message": "сообщение ошибки"
}
```
Обычно ```"message"``` добавляю на классических местах, где могу произойти ошибки, чтобы ввывести пользователю её.

## Какие эндпойнты будут

- Для авторизации пользователя ```POST /api/auth/sign-in``` ```POST /api/auth/sign-up```
- Личный кабинет 
  - ```GET /api/account/get-account``` # получение всех данных пользователя
  - ```PUT /api/account/change-password``` # смена пароля
  - ```PUT /api/account/change-account``` # замена пользовательских данных
  - ```PUT /api/account/exit-account``` # выход с аккаунта (для убирание статуса онлайн)
  - ```DELETE /api/account/delete-account``` # удаление аккаунта

- Работа с заявками (пользователь)
  - ```POST /api/user/applications/create-app``` # создание заявки
  - ```DELETE /api/user/applications/delete-app``` # удаление заявки
  - ```GET /api/user/applications/get-apps``` # получение всех заявок пользователя (быстрый просмотр заявок)
  - ```GET /api/user/applications/get-app``` # получение подробной заявки (для просмотра деталей заявки)
  - ```PUT /api/user/applications/change-app``` # изменение заявки (добавление коментария и т.д.)

- Работа с заявками (оператор)
  - ```GET /api/operator/applications/get-apps``` # получение список всех заявок
  - ```GET /api/operator/applications/get-app``` # получение подробной заявки
  - ```PUT /api/operator/applications/take-app``` # взять заявку в работу
  - ```PUT /api/operator/applications/change-status``` # изменить статус заявки
  - ```GET /api/operator/applications/get-history``` # получить историю изменений заявки (кто/что/когда менял)
  - ```PUT /api/operator/applications/close-app``` # закрыть заявку

- Работа с заявками (админ)
  - ```GET /api/admin/applications/get-apps``` # получение список всех заявок
  - ```GET /api/admin/applications/get-app``` # получение подробной заявки
  - ```PUT /api/admin/applications/assign-app``` # назначение оператора на заявку
  - ```PUT /api/admin/applications/change-status``` # изменение статуса заявки
  - ```GET /api/admin/applications/get-history``` # просмотр полной истории изменений заявки
  - ```DELETE /api/admin/applications/delete-app``` # удаление заявки из системы

- Управление пользователями (админ)
  - ```GET /api/admin/users/get-users``` # получение списка всех пользователей
  - ```GET /api/admin/users/get-user``` # получение информации о конкретном пользователе
  - ```PUT /api/admin/users/change-role``` # изменение роли пользователя
  - ```DELETE /api/admin/users/delete-user``` # удаление пользователя
  - ещё может быть блокировка пользователя

- Управление справочниками (админ) - так же сюда можно будет добавить управлением категориями и приоритетом
  - ```POST /api/admin/dictionaries/create-status``` # создание нового статуса заявки
  - ```PUT /api/admin/dictionaries/change-status``` # изменение статуса заявки
  - ```DELETE /api/admin/dictionaries/delete-status``` # удаление статуса


### Все API будут передавать токен для проверки прав, чтобы пользователь не смог поменять от лица админа и оператора

### Пример для получение всех заявок пользователя

```GET /api/user/applications/get-apps```

#### Запрос
```
{
  "token": "jwt-token"
}
```
#### Ответ
```
{
 "applications": [
    {
      "id": 42,
      "title": "Нет интернета",
      "status": "in_progress",
      "created_at": "2026-01-22T12:30:00Z",
      "updated_at": "2026-01-22T13:10:00Z"
    },
    ...
 ]
}
```